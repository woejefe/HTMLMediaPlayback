
<!DOCTYPE html>
<html>
 <head>
        <title>Media Playback</title>
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">	
		<script src="https://cdnjs.cloudflare.com/ajax/libs/Sortable/1.13.0/Sortable.min.js"></script>
		
		<link href="https://vjs.zencdn.net/7.11.2/video-js.min.css" rel="stylesheet">
		<script src="https://vjs.zencdn.net/7.11.2/video.min.js"></script>
		
 </head>
<style>

 .active {
  background-color: lightblue;
}

 li {display: block;}

		
</style> 
<body style="background:gray;">	        
		
		<div class="card text-center" style="border: 2px solid green;padding:5px;background:lightgray;"> Upload Media Files(mp4,webm,ogg,mp3,wav,pdf)		  
		  <div class="container"> 		 
		    <input class="card text-center" id="mediaFiles" type="file" multiple style="border: 2px solid blue;padding:10px;background:teal;" accept="application/pdf,audio/mpeg,audio/ogg,audio/wav,video/mp4,video/ogg,video/webm"> </input>
		  </div>		
		</div>							
			
			<h1 class="card text-center my-1" style="border: 2px solid green;padding:5px;background:lightblue;">Media Playback</h1>
        	      
        <div class="card" style="background:lightgray;">
			<sblist class="row" id="sortableplaylist">		  
			</sblist>
		</div>
		
	
<script>

	const medialist = document.getElementById('sortableplaylist');
	mediaFiles.addEventListener('change', function() {
           for (let i = 0; i < this.files.length; i++){  
				   
   	new Sortable(medialist);
	const file = this.files[i];
    const url = URL.createObjectURL(file);
			
	const listItem = document.createElement("li");
	const sourceItem = document.createElement("source");
	const cuebtn = document.createElement('button');
	const deletebtn = document.createElement('button');	
	const playbtn = document.createElement('button');		
	
	const loopbtn = document.createElement('button');
	
	 const trackcontainer=document.createElement('div');
	 const btncontrol=document.createElement('li');
	 const cuecontrol=document.createElement('li');	
	 const playerwindow=document.createElement('li');	
	
	const mediaplayer = document.createElement('video');
		  mediaplayer.className="video-js";
		  mediaplayer.setAttribute('data-setup', '{}');
		  mediaplayer.controls = true;
		  mediaplayer.setAttribute("src", url);
		  mediaplayer.load();
		  
	const cueup = [document.getElementById('mediaFiles')]	  
	  cueup.forEach((item, index) => {
      listItem.classList.add("list-group-item");
      listItem.setAttribute("data-index", index);
	  listItem.innerText = file.name;
	  cuecontrol.innerText=file.name;
	 
	  cuebtn.addEventListener("click", () => {       
	  mediaplayer.setAttribute("src", url);	  
	  mediaplayer.setAttribute('data-index', i + 1);	});  });	
		
		playbtn.addEventListener('click', function() {
    if (mediaplayer.paused || mediaplayer.ended) {
      mediaplayer.play();
      playbtn.textContent = 'Pause';
    } else {
      mediaplayer.pause();
      playbtn.textContent = 'Play';
    }
  });
		
	    loopbtn.addEventListener("click",	() => {		     
	     if (mediaplayer.loop === true) {
		 mediaplayer.loop = false;
		 loopbtn.style.background='lightgray';}
	     else {mediaplayer.loop = true;
		 loopbtn.style.background='blue';}		});

	const deletetrack =[document.getElementById('sortableplaylist')]
		deletebtn.addEventListener("click", () => {		
	    medialist.removeChild(trackcontainer);
		
		});

	medialist.appendChild(trackcontainer);	
	trackcontainer.appendChild(cuecontrol);
	trackcontainer.appendChild(playerwindow);
	playerwindow.appendChild(mediaplayer);
	trackcontainer.appendChild(btncontrol);		
	
	
	btncontrol.appendChild(loopbtn);	
	btncontrol.appendChild(playbtn);
	
	btncontrol.appendChild(deletebtn);
	
	
	
		trackcontainer.className="row";
		
	    trackcontainer.style.border="2px solid purple";
	    trackcontainer.style.height="10%";
		
		
		cuecontrol.className="col";
		playerwindow.className="col";
		btncontrol.className="col";
		
		cuecontrol.style.width="33%";
		playerwindow.style.width="33%";
		btncontrol.style.width="33%";
		
		
		
		loopbtn.innerHTML="Loop";
		playbtn.textContent = 'Play';
		cuebtn.innerHTML="ARM";
		deletebtn.innerHTML="Delete";
		
		loopbtn.style.background="lightgray";
		
		cuebtn.style.background="teal";
		deletebtn.style.background="red";
	
		
				
		
		
  }
});



</script




</body>	

</html>






