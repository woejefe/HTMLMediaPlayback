


<!DOCTYPE html>
<html>
 <head>
        <title>Media Playback</title>
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">	
		<script src="https://cdnjs.cloudflare.com/ajax/libs/Sortable/1.13.0/Sortable.min.js"></script>
		
		<link href="https://vjs.zencdn.net/7.10.2/video-js.min.css" rel="stylesheet">
		<script src="https://vjs.zencdn.net/7.10.2/video.min.js"></script>
		
 </head>
<style>

 .active {
  background-color: lightblue;
}

 li {display: block;}
		
</style> 
<body style="background:gray;">	        
		
		<div class="card text-center" style="border: 2px solid green;padding:5px;background:lightgray;"> Upload Media Files(mp4,webm,ogg,mp3,wav,pdf)		  
		 <div class="container"> 		 
		  <input class="card text-center" id="mediaFiles" type="file" multiple style="border: 2px solid blue;padding:5px;background:teal;" accept="application/pdf,audio/mpeg,audio/ogg,audio/wav,video/mp4,video/ogg,video/webm"> </input>
		 </div>
		</div>
		
		
	<h1 class="card text-center my-1" style="border: 2px solid green;padding:5px;background:lightblue;">Media Playback</h1>
	   
	   
	   <div id="cuelist" class="row" >
  
		<li class="col" id="playlistmedia" style="width=33%"></li>
		<li class="col">
		
		  <video controls id="playlistplayer" class="video-js col" data-setup='{"autoplay":false,"preload":false}' height="160" fluid style="width=33%">
			
		  </video>
		
		</li>
		<li class="col" id="playlistbtngroup" style="width=33%"></li>
	
        </div>		
      
           <div class="card" style="background:lightgray;">
		<sblist class="row" id="sortableplaylist">	
	  
		</sblist>
</div>
		
	
<script>
	
	
	
	
	const cuebtns = document.querySelectorAll('.cuebtn');
	const playlistmedia= document.getElementById('playlistmedia');
	const playlistplayer= document.getElementById('playlistplayer');
	
	
	
	
	const medialist = document.getElementById('sortableplaylist');
	mediaFiles.addEventListener('change', function() {
           for (let i = 0; i < this.files.length; i++){     
   	new Sortable(medialist);
	const file = this.files[i];
    const url = URL.createObjectURL(file);	  	  
	
	 const trackcontainer=document.createElement('div');
	 const btncontrol=document.createElement('li');
	 const cuecontrol=document.createElement('li');	
	 const playerwindow=document.createElement('li');	
	
	const mediaplayer = document.createElement('video');
		  mediaplayer.className="video-js";
		  
		 
	const listItem = document.createElement("li");
	const sourceItem = document.createElement("li");
	const cuebtn = document.createElement('button');
	const deletebtn = document.createElement('button');			
	
	const cueup = [document.getElementById('mediaFiles')]	  
	  cueup.forEach((item, index) => {
      
	  
      listItem.classList.add("list-group-item");
      listItem.setAttribute("data-index", index);
	  listItem.innerText = file.name;
	  cuecontrol.innerText=file.name;
	  
	  cuebtn.addEventListener("click", () => {       
        playlistplayer.setAttribute("src", url);
        playlistplayer.load()
		
		listItem.setAttribute("src", url);
		
		playlistmedia.appendChild(listItem);
		
		new Sortable(playlistmedia);				
		})
		});	

	
	
	
	const deletetrack =[document.getElementById('sortableplaylist')]
		deletebtn.addEventListener("click", () => {		
	    medialist.removeChild(trackcontainer);
		playlistmedia.removeChild(listItem);
		playlistplayer.removeChild(sourceItem);
		});

	medialist.appendChild(trackcontainer);	
	trackcontainer.appendChild(cuecontrol);
	trackcontainer.appendChild(playerwindow);
	playerwindow.appendChild(mediaplayer);
	trackcontainer.appendChild(btncontrol);		
	
	cuecontrol.appendChild(cuebtn);
	cuecontrol.appendChild(deletebtn);
	
		trackcontainer.className="row";
		
	    trackcontainer.style.border="2px solid purple";
	    trackcontainer.style.height="10%";
		
		
		cuecontrol.className="col";
		playerwindow.className="col";
		btncontrol.className="col";
		
		
		cuebtn.innerHTML="Cue";
		deletebtn.innerHTML="Delete";
		
  }
});


</script




</body>	

</html>







